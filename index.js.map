{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = `47645607-ed5598dfc4be5ee4996d51637`;\n\nconst requestParams = new URLSearchParams({\n  key: API_KEY,\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n});\n\nconst fetchImages = request => {\n  requestParams.set('q', request);\n\n  return fetch(`${BASE_URL}?${requestParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Failed to fetch images`);\n      }\n\n      return response.json();\n    })\n    .then(response => {\n      if (response.hits.length === 0) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n\n      return response.hits.map(hit => ({\n        webformatURL: hit.webformatURL,\n        largeImageURL: hit.largeImageURL,\n        tags: hit.tags,\n        likes: hit.likes,\n        views: hit.views,\n        comments: hit.comments,\n        downloads: hit.downloads,\n      }));\n    });\n};\nexport { fetchImages };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\nconst galleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `<li class=\"image-card\">\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\">\n        </a>\n        <div class=\"image-info\">\n                <span> Likes ${likes}</span>\n                <span> Comments ${comments}</span>\n                <span> Views ${views}</span>\n                <span> Downloads ${downloads}</span>\n</div>\n        </li>`;\n};\nconst renderGallery = (gallery, images) => {\n  gallery.innerHTML = images.map(image => galleryItem(image)).join('');\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n  } else {\n    lightbox.refresh();\n  }\n};\n\nexport { renderGallery };\n","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nfunction showLoader() {\n  loader.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const request = event.currentTarget.elements.searchRequest.value.trim();\n\n  if (request === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a valid search term.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader();\n  gallery.innerHTML = '';\n\n  fetchImages(request)\n    .then(images => {\n      renderGallery(gallery, images);\n    })\n    .catch(() => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["BASE_URL","API_KEY","requestParams","fetchImages","request","response","hit","lightbox","galleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","gallery","images","image","SimpleLightbox","form","loader","showLoader","hideLoader","event","iziToast"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAgB,IAAI,gBAAgB,CACxC,IAAKD,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,MACd,CAAC,EAEKE,EAAcC,IAClBF,EAAc,IAAI,IAAKE,CAAO,EAEvB,MAAM,GAAGJ,CAAQ,IAAIE,CAAa,EAAE,EACxC,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKA,GAAY,CAChB,GAAIA,EAAS,KAAK,SAAW,EAC3B,MAAM,IAAI,MACR,0EACV,EAGM,OAAOA,EAAS,KAAK,IAAIC,IAAQ,CAC/B,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,CACR,CAAK,GCnCL,IAAIC,EACJ,MAAMC,EAAc,CAAC,CACnB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA,mBACUL,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,+BAGfC,CAAK;AAAA,kCACFE,CAAQ;AAAA,+BACXD,CAAK;AAAA,mCACDE,CAAS;AAAA;AAAA,eAItCC,EAAgB,CAACC,EAASC,IAAW,CACzCD,EAAQ,UAAYC,EAAO,IAAIC,GAASX,EAAYW,CAAK,CAAC,EAAE,KAAK,EAAE,EAE9DZ,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIa,EAAe,YAAY,CAI9C,EC5BMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCL,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASM,GAAa,CACpBD,EAAO,MAAM,QAAU,MACzB,CAEA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CAEAD,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMrB,EAAUqB,EAAM,cAAc,SAAS,cAAc,MAAM,OAEjE,GAAIrB,IAAY,GAAI,CAClBsB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,oCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDH,IACAN,EAAQ,UAAY,GAEpBd,EAAYC,CAAO,EAChB,KAAKc,GAAU,CACdF,EAAcC,EAASC,CAAM,CACnC,CAAK,EACA,MAAM,IAAM,CACXQ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbF,GACN,CAAK,CACL,CAAC"}